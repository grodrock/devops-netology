# Работа в терминале

- какой переменной можно задать длину журнала history, и на какой строчке manual это описывается?

    ```bash
    vagrant@vagrant:~$ export HISTSIZE=2000
    vagrant@vagrant:~$ man bash | grep -n HISTSIZE
    572:              value to the value of HISTSIZE after reading any startup files.
    578:       HISTSIZE
    1665:              By default, the number of history entries is set to the value of the HISTSIZE shell variable.  If an attempt is made to set history-size to a non-numeric value, the maximum number of history entries will be set to 500.
    2091:       When  the  -o history option to the set builtin is enabled, the shell provides access to the command history, the list of commands previously typed.  The value of the HISTSIZE variable is used as the number of commands to save in a history list.
    2092:       The text of the last HISTSIZE commands (default 500) is saved.  The shell stores each command in the history list prior to parameter and variable expansion (see EXPANSION above) but after history expansion is performed, subject to the values  of
    2098:       $HISTSIZE lines are copied from the history list to $HISTFILE.  If the histappend shell option is enabled (see the description of shopt under SHELL BUILTIN COMMANDS below), the lines are appended to the history file, otherwise the  history  file
    ```

- что делает директива ignoreboth в bash?

    отключает сохранение в истори команд начинающихся с пробела и дубликатов

- В каких сценариях использования применимы скобки {} и на какой строчке man bash это описано?

    перечисление списка, тело функции.

- С учётом ответа на предыдущий вопрос, как создать однократным вызовом touch 100000 файлов? Получится ли аналогичным образом создать 300000? Если нет, то почему?

    ```bash
    vagrant@vagrant:~/tests$ touch test{1..100000}
    ```

    нет, превышение кол-ва аргументов:

    ```bash
    vagrant@vagrant:~/tests$ getconf ARG_MAX
    2097152
    ```

- В man bash поищите по `/\[\[`. Что делает конструкция `[[ -d /tmp ]]`

    возвращает 1 если существует каталог `/tmp`

    ```bash
        if [[ -d /tmp ]]
        then
            echo "/tmp exists on your filesystem."
        fi
    ```

- Основываясь на знаниях о просмотре текущих (например, PATH) и установке новых переменных; командах, которые мы рассматривали, добейтесь в выводе type -a bash в виртуальной машине наличия первым пунктом в списке:

    ```bash
    bash is /tmp/new_path_directory/bash
    bash is /usr/local/bin/bash
    bash is /bin/bash
    ```

    ```bash
    vagrant@vagrant:~$ mkdir /tmp/new_path_directory
    vagrant@vagrant:~$ cp /bin/bash /tmp/new_path_directory/
    vagrant@vagrant:~$ export PATH="/tmp/new_path_directory/:$PATH"
    vagrant@vagrant:~$ type -a bash
    bash is /tmp/new_path_directory/bash
    bash is /usr/bin/bash
    bash is /bin/bash
    ```

- Чем отличается планирование команд с помощью batch и at?

    ```sh
       at      executes commands at a specified time.
       batch   executes commands when system load levels permit; in other words, when the load average drops below 1.5, or the value specified in the invocation of atd.
    ```

    `at` - в опрделеноое время, `batch` - когда LA < 1.5
